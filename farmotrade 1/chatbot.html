<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>FarmoTrade - Smart Kisan Chatbot</title>

  <!-- Google Fonts + Icons -->
  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght@400&family=Poppins:wght@400;500;600&display=swap" />

  <style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:"Poppins",sans-serif;}

    body{
      height:100vh;
      display:flex;justify-content:center;align-items:center;
      background:linear-gradient(135deg,#d4f5d0,#b9f0b1,#a2e69c,#8cd889);
      background-size:400% 400%;
      animation:gradientBG 10s ease infinite;
    }
    @keyframes gradientBG{
      0%{background-position:0% 50%}
      50%{background-position:100% 50%}
      100%{background-position:0% 50%}
    }

    /* Chatbot Container */
    .chatbot{
      width:430px;max-width:95%;height:620px;
      background:#fff;border-radius:20px;
      box-shadow:0 15px 35px rgba(0,0,0,0.2);
      display:flex;flex-direction:column;overflow:hidden;
      transform:scale(0.8);opacity:0;pointer-events:none;
      transition:all 0.3s ease;
    }
    body.show-chatbot .chatbot{transform:scale(1);opacity:1;pointer-events:auto;}

    /* Header */
    .chatbot header{
      padding:15px;text-align:center;color:#fff;
      background:linear-gradient(135deg,#4caf50,#2e7d32);
      font-weight:600;font-size:1.2rem;position:relative;
      letter-spacing:0.5px;
    }
    .chatbot header .close-btn{
      position:absolute;right:15px;top:12px;cursor:pointer;font-size:24px;
    }
    .lang-toggle{
      position:absolute;left:15px;top:12px;
      background:#fff;color:#2e7d32;border:none;
      border-radius:8px;padding:4px 10px;font-size:0.8rem;cursor:pointer;
      font-weight:600;box-shadow:0 2px 6px rgba(0,0,0,0.15);
      transition:0.3s;
    }
    .lang-toggle:hover{background:#f1f1f1;}

    /* Chatbox */
    .chatbox{flex:1;overflow-y:auto;padding:20px;background:#f7fdf7;}
    .chatbox::-webkit-scrollbar{width:6px;}
    .chatbox::-webkit-scrollbar-thumb{background:#a5d6a7;border-radius:25px;}

    .chat{display:flex;margin:12px 0;}
    .chat.incoming{align-items:flex-start;}
    .chat.outgoing{justify-content:flex-end;}

    .bot-icon{
      width:36px;height:36px;margin-right:10px;
      background:linear-gradient(135deg,#66bb6a,#43a047);
      border-radius:50%;display:flex;align-items:center;justify-content:center;
      color:#fff;font-size:18px;
    }

    .chat p{
      padding:12px 16px;border-radius:12px;max-width:75%;
      font-size:0.95rem;line-height:1.4;
    }
    .chat.incoming p{background:#fff;border:1px solid #c8e6c9;}
    .chat.outgoing p{background:#4caf50;color:#fff;border-radius:12px 12px 0 12px;}

    /* Suggestions */
    .suggestions{
      display:flex;flex-wrap:wrap;gap:8px;
      padding:10px;background:#edf9ed;border-top:1px solid #c8e6c9;
    }
    .suggestions button{
      flex:1;min-width:48%;padding:8px;
      border:none;border-radius:8px;cursor:pointer;
      background:#43a047;color:#fff;font-size:0.85rem;font-weight:500;
      transition:0.3s;
    }
    .suggestions button:hover{background:#2e7d32;}

    /* Input */
    .chat-input{
      display:flex;gap:10px;padding:12px;
      background:#fff;border-top:1px solid #c8e6c9;
    }
    .chat-input textarea{
      flex:1;resize:none;border:none;outline:none;
      background:#f1f8f1;border-radius:10px;
      padding:10px;font-size:0.95rem;max-height:120px;
    }
    .chat-input span{
      cursor:pointer;font-size:24px;color:#2e7d32;
      display:flex;align-items:center;justify-content:center;
      transition:transform 0.2s;
    }
    .chat-input span:hover{transform:scale(1.2);}

    /* Toggle Button */
    .chatbot-toggler{
      position:fixed;bottom:30px;right:35px;width:65px;height:65px;
      border-radius:50%;border:none;
      background:#43a047;color:#fff;font-size:30px;
      cursor:pointer;box-shadow:0 6px 15px rgba(0,0,0,0.25);
      z-index:9999;animation:pulse 2s infinite;
    }
    @keyframes pulse{
      0%{box-shadow:0 0 0 0 rgba(76,175,80,0.6);}
      70%{box-shadow:0 0 0 20px rgba(76,175,80,0);}
      100%{box-shadow:0 0 0 0 rgba(76,175,80,0);}
    }
  </style>
</head>
<body>

  <!-- Toggle Button -->
  <button class="chatbot-toggler material-symbols-outlined">chat</button>

  <!-- Chatbot -->
  <div class="chatbot">
    <header>
      üåæ FarmoTrade ‡§∏‡§π‡§æ‡§Ø‡§ï
      <button class="lang-toggle">EN</button>
      <span class="close-btn material-symbols-outlined">close</span>
    </header>

    <ul class="chatbox">
      <li class="chat incoming">
        <span class="bot-icon">ü§ñ</span>
        <p id="welcome-msg">‡§®‡§Æ‡§∏‡•ç‡§§‡•á ‡§ï‡§ø‡§∏‡§æ‡§® ‡§≠‡§æ‡§à! üë®‚Äçüåæ  
‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§ñ‡•á‡§§‡•Ä ‡§∏‡§π‡§æ‡§Ø‡§ï ‡§π‡•Ç‡§Å‡•§  
‡§Ü‡§™ ‡§Æ‡•Å‡§ù‡§∏‡•á ‡§´‡§∏‡§≤, ‡§ñ‡§æ‡§¶, ‡§∞‡•ã‡§ó ‡§î‡§∞ ‡§Æ‡•å‡§∏‡§Æ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§™‡•Ç‡§õ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§</p>
      </li>
    </ul>

    <!-- Suggestions -->
    <div class="suggestions" id="suggestions">
      <button>üåæ ‡§ó‡•á‡§π‡•Ç‡§Ç</button>
      <button>üåæ ‡§ß‡§æ‡§®</button>
      <button>üß™ ‡§ñ‡§æ‡§¶</button>
      <button>üå§Ô∏è ‡§Æ‡•å‡§∏‡§Æ</button>
    </div>

    <!-- Input -->
    <div class="chat-input">
      <textarea placeholder="‡§Ö‡§™‡§®‡§æ ‡§∏‡§µ‡§æ‡§≤ ‡§Ø‡§π‡§æ‡§Å ‡§≤‡§ø‡§ñ‡•á‡§Ç... (Type your question)"></textarea>
      <span id="send-btn" class="material-symbols-outlined">send</span>
    </div>
  </div>

  <script>
    const chatbotToggler=document.querySelector(".chatbot-toggler"),
          chatbot=document.querySelector(".chatbot"),
          closeBtn=document.querySelector(".close-btn"),
          chatbox=document.querySelector(".chatbox"),
          chatInput=document.querySelector(".chat-input textarea"),
          sendBtn=document.getElementById("send-btn"),
          langToggle=document.querySelector(".lang-toggle"),
          welcomeMsg=document.getElementById("welcome-msg"),
          suggestions=document.getElementById("suggestions");

    let userMessage="", currentLang="hi";

    const messages={
      hi:{
        welcome:"‡§®‡§Æ‡§∏‡•ç‡§§‡•á ‡§ï‡§ø‡§∏‡§æ‡§® ‡§≠‡§æ‡§à! üë®‚Äçüåæ\n‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡§æ ‡§ñ‡•á‡§§‡•Ä ‡§∏‡§π‡§æ‡§Ø‡§ï ‡§π‡•Ç‡§Å‡•§\n‡§Ü‡§™ ‡§Æ‡•Å‡§ù‡§∏‡•á ‡§´‡§∏‡§≤, ‡§ñ‡§æ‡§¶, ‡§∞‡•ã‡§ó ‡§î‡§∞ ‡§Æ‡•å‡§∏‡§Æ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§™‡•Ç‡§õ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§",
        default:"ü§î ‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•Ä ‡§ñ‡•á‡§§‡•Ä ‡§Æ‡•á‡§Ç ‡§Æ‡§¶‡§¶ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•Ç‡§Å - ‡§´‡§∏‡§≤, ‡§ñ‡§æ‡§¶, ‡§∞‡•ã‡§ó ‡§î‡§∞ ‡§Æ‡•å‡§∏‡§Æ‡•§",
        wheat:"üåæ ‡§ó‡•á‡§π‡•Ç‡§Ç ‡§†‡§Ç‡§°‡•á ‡§Æ‡•å‡§∏‡§Æ (10-25¬∞C) ‡§Æ‡•á‡§Ç ‡§â‡§ó‡§§‡§æ ‡§π‡•à ‡§î‡§∞ 4-5 ‡§Æ‡§π‡•Ä‡§®‡•á ‡§Æ‡•á‡§Ç ‡§ï‡§ü‡§æ‡§à ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§",
        rice:"üåæ ‡§ß‡§æ‡§® ‡§ï‡•ã ‡§ó‡§∞‡•ç‡§Æ ‡§Æ‡•å‡§∏‡§Æ ‡§î‡§∞ ‡§™‡§æ‡§®‡•Ä ‡§≠‡§∞‡•á ‡§ñ‡•á‡§§ ‡§ö‡§æ‡§π‡§ø‡§è‡•§ ‡§Ø‡§π 4-6 ‡§Æ‡§π‡•Ä‡§®‡•á ‡§Æ‡•á‡§Ç ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§",
        fertilizer:"üß™ ‡§ñ‡§æ‡§¶: ‡§Ø‡•Ç‡§∞‡§ø‡§Ø‡§æ, ‡§°‡•Ä‡§è‡§™‡•Ä, ‡§è‡§Æ‡§ì‡§™‡•Ä ‡§î‡§∞ ‡§ó‡•ã‡§¨‡§∞ ‡§ï‡•Ä ‡§ñ‡§æ‡§¶ ‡§ï‡§æ ‡§™‡•ç‡§∞‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç‡•§",
        weather:"üå§Ô∏è ‡§∏‡•Ç‡§ñ‡§æ ‡§Æ‡•á‡§Ç ‡§°‡•ç‡§∞‡§ø‡§™ ‡§∏‡§ø‡§Ç‡§ö‡§æ‡§à ‡§ï‡§∞‡•á‡§Ç, ‡§™‡§æ‡§≤‡§æ ‡§∏‡•á ‡§¨‡§ö‡§æ‡§µ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§´‡§∏‡§≤‡•ã‡§Ç ‡§ï‡•ã ‡§¢‡§ï‡•á‡§Ç‡•§"
      },
      en:{
        welcome:"Hello Farmer! üë®‚Äçüåæ\nI am your farming assistant.\nYou can ask me about crops, fertilizer, diseases, and weather.",
        default:"ü§î I can help you with crops, fertilizer, diseases, and weather.",
        wheat:"üåæ Wheat grows in cool weather (10-25¬∞C) and is harvested in 4-5 months.",
        rice:"üåæ Rice requires warm climate and flooded fields. It matures in 4-6 months.",
        fertilizer:"üß™ Fertilizers: Use Urea (N), DAP (P), MOP (K), and organic manure.",
        weather:"üå§Ô∏è Use drip irrigation in drought, and cover crops to protect from frost."
      }
    };

    chatbotToggler.onclick=()=>document.body.classList.add("show-chatbot");
    closeBtn.onclick=()=>document.body.classList.remove("show-chatbot");

    langToggle.onclick=()=>{
      currentLang=currentLang==="hi"?"en":"hi";
      langToggle.textContent=currentLang==="hi"?"EN":"‡§π‡§ø‡§®‡•ç‡§¶‡•Ä";
      welcomeMsg.textContent=messages[currentLang].welcome;
      chatbox.scrollTop=chatbox.scrollHeight;
      updateSuggestions();
    };

    function updateSuggestions(){
      const opts=currentLang==="hi"?["üåæ ‡§ó‡•á‡§π‡•Ç‡§Ç","üåæ ‡§ß‡§æ‡§®","üß™ ‡§ñ‡§æ‡§¶","üå§Ô∏è ‡§Æ‡•å‡§∏‡§Æ"]:
                                   ["üåæ Wheat","üåæ Rice","üß™ Fertilizer","üå§Ô∏è Weather"];
      suggestions.innerHTML="";
      opts.forEach(opt=>{
        const btn=document.createElement("button");
        btn.textContent=opt;
        btn.onclick=()=>handleChat(opt);
        suggestions.appendChild(btn);
      });
    }
    updateSuggestions();

    function createChatLi(message,className){
      const li=document.createElement("li");
      li.classList.add("chat",className);
      li.innerHTML=className==="outgoing"?`<p>${message}</p>`:
        `<span class="bot-icon">ü§ñ</span><p>${message}</p>`;
      return li;
    }

    function generateResponse(msg){
      msg=msg.toLowerCase();
      let r=messages[currentLang].default;
      if(msg.includes("‡§ó‡•á‡§π‡•Ç‡§Ç")||msg.includes("wheat")) r=messages[currentLang].wheat;
      else if(msg.includes("‡§ß‡§æ‡§®")||msg.includes("rice")) r=messages[currentLang].rice;
      else if(msg.includes("‡§ñ‡§æ‡§¶")||msg.includes("fertilizer")) r=messages[currentLang].fertilizer;
      else if(msg.includes("‡§Æ‡•å‡§∏‡§Æ")||msg.includes("weather")) r=messages[currentLang].weather;
      return r;
    }

    function handleChat(text=""){
      userMessage=text||chatInput.value.trim();
      if(!userMessage)return;
      chatbox.appendChild(createChatLi(userMessage,"outgoing"));
      chatInput.value="";chatbox.scrollTop=chatbox.scrollHeight;

      setTimeout(()=>{
        chatbox.appendChild(createChatLi(generateResponse(userMessage),"incoming"));
        chatbox.scrollTop=chatbox.scrollHeight;
      },600);
    }

    sendBtn.onclick=()=>handleChat();
    chatInput.addEventListener("keydown",e=>{
      if(e.key==="Enter"&&!e.shiftKey){e.preventDefault();handleChat();}
    });
  </script>
</body>
</html>
